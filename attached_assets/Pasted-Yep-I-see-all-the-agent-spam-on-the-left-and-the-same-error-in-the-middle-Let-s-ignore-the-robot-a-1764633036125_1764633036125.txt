Yep, I see all the agent spam on the left and the same error in the middle. Letâ€™s ignore the robot and just fix the real problem ourselves. ğŸ˜Š

The crash is coming from this line in client/src/contexts/AuthContext.tsx:

const queryClient = useQueryClient();


That hook is whatâ€™s blowing up (useContext on null). We actually donâ€™t need it for your app to run, so the quickest, safest fix is to remove useQueryClient entirely from AuthContext.

1ï¸âƒ£ Turn off the agent for real

First, donâ€™t click anything that says â€œAsk Agentâ€¦â€ or â€œBuildâ€ with the little robot icon. Just use the Shell tab for commands.

2ï¸âƒ£ Edit AuthContext.tsx

In the file tree, open
client/src/contexts/AuthContext.tsx.

At the top of the file, look for an import like:

import { useQueryClient } from "@tanstack/react-query";


ğŸ‘‰ Delete that line (or comment it out):

// import { useQueryClient } from "@tanstack/react-query";


In the AuthProvider function, find this line (itâ€™s line 21 in your screenshot):

const queryClient = useQueryClient();


ğŸ‘‰ Comment it out:

// const queryClient = useQueryClient();


Now search in that same file for any uses of queryClient, for example:

queryClient.clear();
// or
queryClient.invalidateQueries();


For each one, comment it out for now, e.g.:

// queryClient.clear();
// queryClient.invalidateQueries();


(Those are just cache cleanups; your app will run fine without them. We can add a safer version later.)

Save the file.

3ï¸âƒ£ Restart the dev server yourself

Go to the Shell tab (bottom).

Run:

npm run dev


When it starts, refresh the Preview tab (or open the URL it prints).

That Cannot read properties of null (reading 'useContext') error should disappear now, and the app should load again.

If itâ€™s still crashing after youâ€™ve removed every useQueryClient and queryClient usage from AuthContext.tsx, tell me:

â€œAll queryClient code is gone and I still get an error. New error is: â€¦â€

and Iâ€™ll fix the next thing. But this should unblock you so we can get back to the â€œinstall from websiteâ€ stuff.